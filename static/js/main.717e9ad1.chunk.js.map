{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/tick_ico.svg","images/cross_ico.svg","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logoPath","alt","exact","path","email","to","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","style","backgroundImage","link","backgroundSize","name","type","onCardLike","length","onCardDelete","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","title","onSubmit","children","buttonTitle","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","reset","ref","AddPlacePopup","cardName","setCardName","cardUrl","setCardUrl","ImagePopup","api","config","this","_baseUrl","url","_headers","headers","fetch","then","res","_checkResponse","data","method","body","JSON","stringify","avatarUrl","cardId","ok","json","Promise","reject","status","authorization","Register","onRegister","setEmail","password","setPassword","catch","err","console","log","Login","onLogin","ProtectedRoute","Component","component","loggedIn","InfoTooltip","icoPath","BASE_URL","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","infoTooltipIcoPath","setInfoTooltipIcoPath","infoTooltipTitle","setInfoTooltipTitle","history","useHistory","closeAllPopups","getUserInfo","getInitialCards","resCards","token","jwt","localStorage","getItem","push","closeByEscape","key","document","addEventListener","removeEventListener","Provider","removeItem","changeLikeCardStatus","newCard","state","c","deleteCard","filter","auth","tickIcoPath","crossIcoPath","setItem","editProfileInfo","editUserAvatar","loadNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.717e9ad1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logoPath from '../images/logo.svg';\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logoPath} alt=\"Логотип Mesto Russia\" className=\"header__logo\"/>\r\n      <Route exact path=\"/\">\r\n        <div className=\"header__account-info\">\r\n          <p className=\"header__account-email\">{props.email}</p>\r\n          <Link to=\"/sign-in\" onClick={props.onSignOut} className=\"header__link\">Выйти</Link>\r\n        </div>\r\n      </Route>\r\n\r\n      <Route path=\"/sign-up\">\r\n        <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n      </Route>\r\n                  \r\n      <Route path=\"/sign-in\">\r\n        <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n      </Route>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card (props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`place__delete ${isOwn ? 'place__delete_visible' : 'place__delete_hidden'}`);\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `place__like ${isLiked ? 'place__like_active' : ''}`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  \r\n  return (\r\n    <article className=\"place\"> \r\n      <div onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})`, backgroundSize: \"cover\" }} className=\"place__pic\"/>\r\n      <div className=\"place__description\">\r\n        <h2 className=\"place__name\">{props.card.name}</h2>\r\n        <div className=\"place__like-wrapper\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"Нравится фото места\" onClick={handleLikeClick}></button>\r\n          <p className=\"place__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button type=\"button\" className={cardDeleteButtonClassName} aria-label=\"Удалить фото\" onClick={handleDeleteClick}></button>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\n\r\nfunction Main (props) {\r\n  \r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  \r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__user\">\r\n          <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}><div className=\"profile__avatar\" \r\n                          style={{ backgroundImage: `url(${currentUser.avatar})`, backgroundSize: \"cover\" }} /></div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__name-info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button type=\"button\" className=\"profile__edit\" onClick={props.onEditProfile} aria-label=\"Редактировать профайл\"></button>\r\n            </div>\r\n            <p className=\"profile__job-info\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add\" onClick={props.onAddPlace} aria-label=\"Добавить фото\"></button>\r\n      </section>\r\n\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => {\r\n          return (<Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} \r\n                        onCardDelete={props.onCardDelete} />)\r\n        })}\r\n      </section>\r\n    </main> \r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm (props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen? \"popup_opened\": \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"popup__form\" onSubmit={props.onSubmit} >\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button\" aria-label=\"Сохранить изменения\">{props.buttonTitle}</button>\r\n        </form>\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose} aria-label=\"Закрыть попап\"></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup (props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n  \r\n\r\n  function handleNameChange (e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange (e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                        buttonTitle=\"Сохранить\"> \r\n      <div className=\"popup__input-field\">\r\n        <input id=\"name-input\" type=\"text\" value={name} onChange={handleNameChange} className=\"popup__input popup__input_edit_name\" name=\"name\"\r\n              placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"/>\r\n        <span className=\"name-input-error\"></span>\r\n      </div>\r\n      <div className=\"popup__input-field\">\r\n        <input id=\"job-input\" type=\"text\" value={description} onChange={handleDescriptionChange} className=\"popup__input popup__input_edit_job\" name=\"job\" \r\n              placeholder=\"Вид деятельности\" required minLength=\"2\" maxLength=\"200\"/>\r\n        <span className=\"job-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm> \r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup (props) {\r\n  const avatarRef = React.useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n    e.target.reset();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                   buttonTitle=\"Сохранить\">\r\n      <div className=\"popup__input-field\">\r\n        <input id=\"avatar-input\" type=\"url\" ref={avatarRef} className=\"popup__input popup__input_avatar-link\" placeholder=\"Добавьте ссылку на аватар\" \r\n                name=\"avatar\" required/>\r\n        <span className=\"avatar-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction AddPlacePopup (props) {\r\n  const [cardName, setCardName] = React.useState('');\r\n  const [cardUrl, setCardUrl] = React.useState('');\r\n\r\n  function handleCardNameChange (e) {\r\n    setCardName(e.target.value);\r\n  }\r\n\r\n  function handleCardUrlChange (e) {\r\n    setCardUrl(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: cardName,\r\n      link: cardUrl\r\n    });\r\n\r\n    setCardName('');\r\n    setCardUrl('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"new-card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} \r\n                        buttonTitle=\"Создать\">\r\n      <div className=\"popup__input-field\">\r\n        <input id=\"place-input\" type=\"text\" value={cardName} onChange={handleCardNameChange} placeholder=\"Название\" \r\n                className=\"popup__input popup__input_place-name\" name=\"placeName\" required minLength=\"2\" maxLength=\"30\"/>\r\n        <span className=\"place-input-error\"></span>\r\n      </div>\r\n      <div className=\"popup__input-field\">\r\n        <input id=\"link-input\" type=\"url\" value={cardUrl} onChange={handleCardUrlChange} placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_place-link\" name=\"placeLink\" required/>\r\n        <span className=\"link-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_photo ${props.card._id? \"popup_opened\":\"\"} `} >\r\n      <div className=\"picture\">\r\n        <figure className=\"picture__container\">\r\n          <img src={props.card.link} alt={props.card.name} className=\"picture__view\"/>\r\n          <figcaption className=\"picture__name\">{props.card.name}</figcaption>\r\n        </figure>\r\n        <button onClick={props.onClose} type=\"button\" className=\"popup__close\" aria-label=\"Закрыть попап\"></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor (config) {\r\n    this._baseUrl = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n\r\n  getUserInfo () {\r\n    return fetch (`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n\r\n  getInitialCards () {\r\n    return fetch (`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  editProfileInfo (data) {\r\n    return fetch (`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  editUserAvatar (avatarUrl) {\r\n    return fetch (`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarUrl\r\n      })\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  loadNewCard(card) {\r\n    return fetch (`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link\r\n      })\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  changeLikeCardStatus (cardId, isLiked) {\r\n    return fetch (`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  } \r\n\r\n  deleteCard (cardId) {\r\n    return fetch (`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n}\r\n\r\nconst api = new Api({url: 'https://nomoreparties.co/v1/cohort-26', \r\n  headers: {authorization: 'adc76ba5-f155-4ece-b7e2-4db6eaf8ed57',\r\n            'Content-Type': 'application/json'}\r\n});\r\n\r\nexport default api;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register ({onRegister}) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  \r\n\r\n  function resetForm () {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  function handleEmailChange (e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange (e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister({password, email})\r\n      .then (() => resetForm())\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <h2 className=\"register__title\">Регистрация</h2>\r\n      <form className=\"register__form\" onSubmit={handleSubmit}>\r\n        <div className=\"register__input-field\">\r\n          <input id=\"email-input\" type=\"email\" className=\"register__input\" value={email} onChange={handleEmailChange} \r\n                 placeholder=\"Email\" name=\"email\" required/>\r\n          <span className=\"email-input-error\"></span>\r\n        </div>\r\n        <div className=\"register__input-field\">\r\n          <input id=\"password-input\" type=\"password\" className=\"register__input\" value={password} onChange={handlePasswordChange} \r\n                 placeholder=\"Пароль\" name=\"password\" required/>\r\n          <span className=\"password-input-error\"></span>\r\n        </div>\r\n        <button className=\"register__button\" type=\"submit\">Зарегистрироваться</button>\r\n      </form>\r\n      <p className=\"register__login-question\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"register__sign-in-link\">Войти</Link></p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\n\r\nfunction Login ({onLogin}) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  \r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  function handleChangeEmail (e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword (e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit (e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n\r\n    onLogin({password, email})\r\n      .then (() => resetForm())\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <h2 className=\"register__title\">Вход</h2>\r\n      <form className=\"register__form\" onSubmit={handleSubmit}>\r\n        <div className=\"register__input-field\">\r\n          <input id=\"email-input\" type=\"email\" className=\"register__input\" value={email} onChange={handleChangeEmail} \r\n                 placeholder=\"Email\" name=\"email\" required/>\r\n          <span className=\"email-input-error\"></span>\r\n        </div>\r\n        <div className=\"register__input-field\">\r\n          <input id=\"password-input\" type=\"password\" className=\"register__input\" value={password} onChange={handleChangePassword} \r\n                 placeholder=\"Пароль\" name=\"password\" required/>\r\n          <span className=\"password-input-error\"></span>\r\n        </div>\r\n        <button className=\"register__button\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ?  <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","function InfoTooltip (props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen? \"popup_opened\": \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <div className=\"popup__info\">\r\n          <img className=\"popup__ico\" src={props.icoPath} alt=\"tick\" />\r\n          <h2 className=\"popup__info-title\">{props.title}</h2>\r\n        </div>\r\n        <button className=\"popup__close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/tick_ico.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/cross_ico.d4ce2a26.svg\";","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n    .then((res) => _checkResponse(res))\r\n}\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n    .then((res) => _checkResponse(res))\r\n    .then ((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem ('jwt', data.token);\r\n        return data;\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n}\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => _checkResponse(res))\r\n  .then(data => data)\r\n}\r\n\r\nconst _checkResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json()\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport tickIcoPath from \"../images/tick_ico.svg\";\r\nimport crossIcoPath from \"../images/cross_ico.svg\";\r\nimport * as auth from \"../utils/auth\";\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({name:'', about:'', avatar:'', _id: ''})\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n  const [infoTooltipIcoPath, setInfoTooltipIcoPath] = React.useState('');\r\n  const [infoTooltipTitle, setInfoTooltipTitle] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  const history = useHistory();\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  const handleInfoTooltipSuccess = () => {\r\n    setIsInfoTooltipOpen(true);\r\n    setInfoTooltipIcoPath(tickIcoPath);\r\n    setInfoTooltipTitle('Вы успешно зарегистрировались!')\r\n  }\r\n\r\n  const handleInfoTooltipFail = () => {\r\n    setIsInfoTooltipOpen(true);\r\n    setInfoTooltipIcoPath(crossIcoPath);\r\n    setInfoTooltipTitle('Что-то пошло не так! Попробуйте ещё раз.')\r\n  }\r\n\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  }\r\n  \r\n  React.useEffect (() => {\r\n    api.getUserInfo()\r\n      .then ((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [])\r\n\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((resCards) => {\r\n        setCards(resCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    \r\n    if(jwt) {\r\n      auth.getContent(jwt).then((res) => {\r\n        if(res) {\r\n          setEmail(res.data.email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n    }\r\n  },[history])\r\n\r\n  const onRegister = ({password, email}) => {\r\n    return auth.register(password, email).then ((res) => {\r\n      if (res) {\r\n        handleInfoTooltipSuccess();\r\n        history.push('/sign-in');\r\n      } \r\n    })\r\n    .catch (() => {\r\n      handleInfoTooltipFail();\r\n    })\r\n  }\r\n\r\n  const onLogin = ({password, email}) => {\r\n    return auth.authorize(password, email).then ((data) => {\r\n      if (data.token) {\r\n        handleLogin();\r\n        history.push('/');\r\n      }\r\n    })\r\n  }\r\n\r\n  const onSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function handleLogin() {\r\n    setLoggedIn(true);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard (card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  \r\n  function closeAllPopups () {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsInfoTooltipOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', closeByEscape)\r\n    \r\n    return () => document.removeEventListener('keydown', closeByEscape)\r\n  }, [])\r\n\r\n  function handleUpdateUser(data) {\r\n    api.editProfileInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.editUserAvatar(data.avatar)\r\n      .then ((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.loadNewCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  \r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <div className=\"page\">\r\n          <div className=\"page__content\">\r\n            <Header email={email} onSignOut={onSignOut} />\r\n            <Switch>\r\n              <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} \r\n                      onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\r\n              \r\n              <Route path='/sign-up'>\r\n                <Register onRegister={onRegister} />\r\n              </Route>\r\n\r\n              <Route path='/sign-in'>\r\n                <Login onLogin={onLogin} />\r\n              </Route>\r\n\r\n              <Route >\r\n                {loggedIn? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n          </div>\r\n\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n          \r\n          <PopupWithForm name=\"delete-card\" title=\"Вы уверены?\" onClose={closeAllPopups} buttonTitle=\"Да\" />\r\n        \r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} icoPath={infoTooltipIcoPath} title={infoTooltipTitle} />\r\n            \r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}